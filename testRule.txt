from biblioteca import Biblioteca;
from system import System;

Prep Alumno(nombre){telefono="",correo="",fax=""};


Rule EnviarNotificacion(Alumno,Mensaje):
    Condiciones:
        U = Alumno(Alumno);
        Fail = False;
        OR(
            rule EnviarCorreo(U.correo,Mensaje);
            rule EnviarSms(U.telefono,Mensaje);
            rule EnviarFax(U.fax,Mensaje);
            Fail = True;
        );
        Fail == False;
    Consecuencias:
        System.print("Mensaje para {0}, contenido: {1} ",Alumno,Mensaje);
    Contingencia Fracaso:
        Condiciones:
            Fail == True;
        Consecuencias:
            System.print("No se ha podido notificara {0}",Alumno);


Rule EnviarCorreo(Correo,Mensaje):
    Condiciones:
        NOT(Correo == "");
    Consecuencias:
        System.print("Correo enviado a {0}: {1}",Correo,Mensaje);
Rule EnviarSms(Telefono,Mensaje):
    Condiciones:
        NOT(Telefono == "");
    Consecuencias:
        System.print("SMS enviado a {0}: {1}",Telefono,Mensaje);
Rule EnviarFax(Fax,Mensaje):
    Condiciones:
        NOT(Fax == "");
    Consecuencias:
        System.print("Fax enviado a {0}: {1}",Fax,Mensaje);

Accion Sancioanr(Alumno):
    Condiciones:
        Alumno(Alumno);
    Consecuencias:
        rule EnviarNotificacion(Alumno,"Has sido sancionado");

add Alumno("Juan"){telefono="123456789"};
add Alumno("Maria"){correo="maria@uclm.es"};
add Alumno("Pedro"){fax="123456789"};
add Alumno("Ana");


Run Sancioanr("Juan");
Run Sancioanr("Maria");
Run Sancioanr("Pedro");
Run Sancioanr("Ana");
